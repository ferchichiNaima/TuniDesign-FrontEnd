

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

</head>

<h2 style="text-align: center; color: white;">Share your informations please</h2>

<div class="col-6 offset-3">

</div>
<div class="container">
  <div style="margin-left: 300px;"  >
  <google-map>

    <map-marker
    *ngFor="let marker of markers"
    [position]="marker.position"
    [label]="marker.label"
    [title]="marker.title"
    [options]="marker.options"

  >
  </map-marker>
  <map-directions-renderer *ngIf="(directionsResults$ | async) as directionsResults"
  [directions]="directionsResults"></map-directions-renderer>


  </google-map>
</div>
  <form (submit)="saveOrder()" [formGroup]="registerForm">
    <div class="row form-group">
      <div class="col-25">
        <label for="location" style="color: white;">PickUp Location *</label>
      </div>
      <div class="col-75">
        <input class="form-control"
        ngx-google-places-autocomplete
        [options]="options"
        (onAddressChange)="handleAddressChangeLocation($event)"
         class="form-control"
         formControlName="location"  value="{{currentAdress}}">
          <div *ngIf="messageR!=''" class="text-danger" [ngClass]="{'is-invalid':submitted && registerForm.controls.location.errors }">

              {{messageR}}
            </div>
    </div>
    </div>



    <div class="row">
      <div class="col-25">
        <label for="destination" style="color: white;">Destination *</label>
      </div>
      <div class="col-75">
        <input class="form-control"
        ngx-google-places-autocomplete
        [options]="options"
        (onAddressChange)="handleAddressChangeDestination($event)"
         class="form-control"
        [ngClass]="{'is-invalid':submitted && registerForm.controls.destination.errors}" formControlName="destination">
          <div *ngIf="submitted && registerForm.controls.destination.errors" class="text-danger">
            <div *ngIf="submitted && registerForm.controls.destination.errors.required">
              Destination is required
            </div>
    </div>
      </div>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="phone" style="color: white;">Phone *</label>
      </div>
      <div class="col-75">
        <form #f="ngForm" [formGroup]="phoneForm">
          <ngx-intl-tel-input [(ngModel)]="this.tel"
          [cssClass]="'custom'"
          [preferredCountries]="['sg']"

          [enablePlaceholder]="true"
          [enableAutoCountrySelect]="true"
          [enablePlaceholder]="true"
          [searchCountryFlag]="true"
          [preferredCountries]="[CountryISO.Tunisia]"
          [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]"
          [phoneValidation]="true"




          name="phone"
          formControlName="phone"></ngx-intl-tel-input>
        </form>
      </div>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="people" style="color: white;">People *</label>
      </div>
      <div class="col-75">
        <input class="input-field" style="width: 200px;" type="number" id="people" name="people" placeholder="How many people"  min="1" max="8" [(ngModel)]="order.people" class="form-control"
        [ngClass]="{'is-invalid':submitted && registerForm.controls.people.errors}" formControlName="people"  >
          <div *ngIf="submitted && registerForm.controls.people.errors" class="text-danger">
            <div *ngIf="submitted && registerForm.controls.people.errors.required">
              Number of people is required
            </div>
      </div>
      </div>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="matricule" style="color: white;">Registration number *</label>
      </div>
      <div class="col-75">
        <input class="input-field" type="number" id="matricule" name="matricule" placeholder="Your Registration number .." [(ngModel)]="order.idVehicule" class="form-control"
        [ngClass]="{'is-invalid':submitted && registerForm.controls.matricule.errors}" formControlName="matricule"  >
          <div *ngIf="submitted && registerForm.controls.matricule.errors" class="text-danger">
            <div *ngIf="submitted && registerForm.controls.matricule.errors.required">
              Registration number is required
            </div>
            </div>
      </div>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="matricule" style="color: white;">Confirm Registration number *</label>
      </div>
      <div class="col-75">
        <input class="input-field" type="number" id="matriculeconf" name="matriculeconf" placeholder="Confirm your Registration number .." [(ngModel)]="matriculeConfirm" class="form-control"
        [ngClass]="{'is-invalid':submitted && registerForm.controls.matriculeconf.errors}" formControlName="matriculeconf"  >
          <div *ngIf="submitted && registerForm.controls.matriculeconf.errors" class="text-danger">
            <div *ngIf="submitted && registerForm.controls.matriculeconf.errors.required">
               Confirming Registration number is required
            </div>
            </div>
      </div>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="isloaded"  style="color: white;">Is it a loaded vehicle?*</label>
      </div>
      <div class="col-75">
        <input type="radio" name="loaded" id="loaded" value="oui"  [(ngModel)]="order.isLoaded"
        [ngClass]="{'is-invalid':submitted && registerForm.controls.loaded.errors}" formControlName="loaded"  >

            <label style="color:white;" for="yes">Yes</label>
            <input type="radio" name="loaded" id="loaded" value="non"  [(ngModel)]="order.isLoaded"
            [ngClass]="{'is-invalid':submitted && registerForm.controls.loaded.errors}" formControlName="loaded"  >

            <label style="color:white" for="no">No</label>
            <div *ngIf="submitted && registerForm.controls.loaded.errors" class="text-danger">
              <div *ngIf="submitted && registerForm.controls.loaded.errors.required">
                 it is required
              </div>
              </div>
      </div>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="type"  style="color: white;">What Type of situation*</label>
      </div>
      <div class="col-75">
        <input type="radio" name="type" id="type" value="accident"  [(ngModel)]="order.breakdownType"
        [ngClass]="{'is-invalid':submitted && registerForm.controls.type.errors}" formControlName="type"  >

            <label style="color:white;" for="accident">Accident</label>
            <input type="radio" name="type" id="type" value="panne"  [(ngModel)]="order.breakdownType"
            [ngClass]="{'is-invalid':submitted && registerForm.controls.type.errors}" formControlName="type" >

            <label style="color:white" for="panne">Panne</label>
            <div *ngIf="submitted && registerForm.controls.type.errors" class="text-danger">
              <div *ngIf="submitted && registerForm.controls.type.errors.required">
                Type of situation is required
              </div>
              </div>
      </div>
    </div>


    <div class="row">
      <div class="col-25">
        <label for="details"  style="color: white;">Details *</label>
      </div>
      <div class="col-75">
        <textarea id="details" name="details" placeholder="Write some details please.." style="height:200px" [(ngModel)]="order.breakdownDetails" class="form-control"
        [ngClass]="{'is-invalid':submitted && registerForm.controls.details.errors}" formControlName="details" ></textarea>
          <div *ngIf="submitted && registerForm.controls.details.errors" class="text-danger">
            <div *ngIf="submitted && registerForm.controls.details.errors.required">
             details are required
            </div>

      </div>
    </div>
    </div>

    <div class="row">
      <input type="submit" value="Submit" (click)="saveOrder()">
    </div>
  </form>
</div>
